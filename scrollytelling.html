<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <style>
  html,
  body{
    font-family: EB garamond;
    text-align: center;
    font-size: 4vw;

     background: white url(marble.jpg) repeat 0 0;

     color: black;
  }

  .container {
    height: 100%;
    max-width: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    position: absolute;
    height: 100%;
    line-height: 1.5;
    text-align: center;
  }
  .container div {
    height: 100%;
    display: block;
    padding: 0 0px;
    text-align: center;
  }
  .fixed {
    position: fixed;
    width:100%;
    height: 100%;
    top: 0px;
    left: 0px;
    text-align: center;
  }
  #scroll-animate
{
  overflow: hidden;
}

#scroll-animate-main
{
  width: 100%;
  left: 0;
  position: fixed;
}

#heightPage,
#heightScroll
{
  width: 10px;
  top: 0;
  position: absolute;
  z-index: 99;
}

#heightPage
{
  left: 0;
}

#heightScroll
{
  right: 0;
}






h1{
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  left: -40;
  text-transform: uppercase;
  text-align: center;
  font-family: EB garamond;
  font-size: 25vw;
  color: #9C1C29;
}

header h1{}

.content h1{
  line-height: 1000px;
  color: #999;
}




footer h1
{
  line-height: 300px;
}


  </style>
</head>

<body>




  <div id="graphic">

<div class="fixed">
<img src="garland.svg" alt="Your Logo Alt" viewBox="-250 -250 500 500" width="100%" height="100%">
</div>

  <!-- svg -->
  <div class="fixed"><svg width="100%" height="100%" viewBox="-250 -250 500 500">
  <circle r="100" stroke="#9C1C29" stroke-opacity="0.5" fill="none">

  </circle>

    <use xlink:href="garland.svg"></use>

  <circle r="200" stroke="#626060" stroke-opacity="0.5" fill="none"></circle>
</svg></div>

</div><!-- /graphic -->


  <div class="container">
    <div id="intro">

      <h1>Rome</h1>

    </div>
    <div id="div1">
      <h2>On <strong>July 27, 2017</strong> there were <strong>20</strong> people attending the Data Visualization meetup.</h2>
    </div>
    <div id="div2">
      <h2>Out of those <strong>20</strong> there were <strong>12</strong> people who attended.</h2>
      <p></p>
    </div>
    <div id="div4">
      <h2><strong>5</strong> out of <strong>12</strong> people had iphones. The other <strong>7</strong> had android devices</h2>
    </div>
    <div id="div6">
      <h2>Out of those <strong>12</strong> attendees only <strong>3</strong> people were San Diego natives. <br><br>The age group for the attendees ranged between 25 and 65.</h2>
    </div>

  </div>

  <script>

    let width = window.innerWidth;
    let height = window.innerHeight;
    let size_scaler=width
    if (width>500){
      size_scaler=500;}
    var svg = document.getElementsByTagName('svg')[0]
    var nodes = [].concat(
      d3.range(80).map(function() { return {type: "a"}; }),
      d3.range(160).map(function() { return {type: "b"}; })
    );
    var t0 = Date.now();

    var node = d3.select("svg")
      .append("g")
      .selectAll("circle")
      .data(nodes)
      .enter().append("circle")
        .attr("r", 5)
        .attr("fill", function(d) { return d.type === "a" ? "#626060" : "#9C1C29"; })





    function ticked0() {

      node
          .attr("cx", function(d) { return 0 })
          .attr("cy", function(d) { return 0 })
          .attr("opacity", "0");

          };



        function ticked1() {

      node
          .transition()
          .ease(d3.easeExpOut)
          .duration(600)
          .delay((d, i) => 100 * i)
          .attr("opacity", "1")
          .attr("cx", function(d) { return d.x; })
          .attr("cy", function(d) { return d.y; });
          };


        <!--function ticked2() {-->
      <!--d3.timer(function () {-->
      <!--var delta = Date.now() - t0;-->
      <!--node-->
          <!--.attr("cx", function(d) { return d.x; })-->
          <!--.attr("cy", function(d) { return d.y; });-->
          <!--&lt;!&ndash;.attr('transform', function (d) {return 'rotate('+0.001*delta+')'});&ndash;&gt;-->
      <!--});-->
    <!--}-->


    let naught = () =>{
          var simulation = d3.forceSimulation(nodes)
        .force("charge", d3.forceCollide().radius(7.5))
        .force("r", d3.forceRadial(function(d) { return d.type === "a" ? 100 : 200; }))
        .on("tick", ticked0)
    }


    let ready = () =>{
      d3.forceSimulation(nodes).on("tick", ticked1)
    }



    let go = () =>{
      d3.forceSimulation(nodes).on("tick", ticked2)
          }



    //waypoints scroll constructor
    function scroll(n, offset, func1, func2){
      return new Waypoint({
        element: document.getElementById(n),
        handler: function(direction) {
           direction == 'down' ? func1() : func2();
        },
        //start 75% from the top of the div
        offset: offset
      });
    };



    //triger these functions on page scroll
    new scroll('div1', '75%', ready, naught);
    new scroll('div2', '75%', go, naught);




    //start grid on page load
    naught();


  </script>
</body>