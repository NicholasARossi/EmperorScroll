<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.js"></script>
  <script src="headr.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <style>
  html,
  body{

     background: white;
     color: black;
  }

  .container {
    height: 100%;
    max-width: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    position: absolute;
    height: 100%;
    line-height: 1.5;
    text-align: center;
  }
  .container div {
    height: 100%;
    display: block;
    padding: 0 0px;
    text-align: center;
  }
  .fixed {
    position: fixed;
    width:100%;
    height: 100%;
    top: 0px;
    text-align: center;
  }
  #scroll-animate
{
  overflow: hidden;
}

#scroll-animate-main
{
  width: 100%;
  left: 0;
  position: fixed;
}

#heightPage,
#heightScroll
{
  width: 10px;
  top: 0;
  position: absolute;
  z-index: 99;
}

#heightPage
{
  left: 0;
}

#heightScroll
{
  right: 0;
}

header
{
  width: 100%;
  height: 100%;
  background: url(snowrome.jpg) no-repeat 100% 100%;
  background-repeat: no-repeat;
  top: 0;
  position: fixed;
  z-index: -1;
}

footer
{
  width: 100%;
  height: 300px;
  background: gray;
  bottom: -300px;
  position: fixed;
  z-index: -1;
}

.content
{
  height: 1000px;
  min-height: 1000px;
  background: #ededed;
  position: relative;
  z-index: 1;
}

.wrapper-parallax {
  margin-top: 100%;
  margin-bottom: 300px;
  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);
}

h1{
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  text-transform: uppercase;
  text-align: center;
  font-family: Permanent Marker;
  font-size: 150px;
  color: #fff;
}

header h1{}

.content h1{
  line-height: 1000px;
  color: #999;
}




footer h1
{
  line-height: 300px;
}

header,
footer,
#scroll-animate-main
{
  -webkit-transition-property: all;
     -moz-transition-property: all;
      transition-property: all;

  -webkit-transition-duration: 0.4s;
     -moz-transition-duration: 0.4s;
      transition-duration: 0.4s;

  -webkit-transition-timing-function: cubic-bezier(0, 0, 0, 1);
     -moz-transition-timing-function: cubic-bezier(0, 0, 0, 1);
      transition-timing-function: cubic-bezier(0, 0, 0, 1);
}
  </style>
</head>

<body>
<div id="scroll-animate">
  <div id="scroll-animate-main">
    <div class="wrapper-parallax">
      <header>
        <h1>Rome</h1>
      </header>

      <section class="content">

  <div id="graphic">

<div class="fixed">
<img src="garland.svg" alt="Your Logo Alt" viewBox="-250 -250 500 500" width="100%" height="100%">
</div>
  <!-- svg -->
  <div class="fixed"><svg width="100%" height="100%" viewBox="-250 -250 500 500">
  <circle r="100" stroke="brown" stroke-opacity="0.5" fill="none">

  </circle>

    <use xlink:href="garland.svg"></use>

  <circle r="200" stroke="steelblue" stroke-opacity="0.5" fill="none"></circle>
</svg></div>

</div><!-- /graphic -->
</section>

      </div>
    </div>
  </div>

  <div class="container">
    <div id="div1">
      <h2>On <strong>July 27, 2017</strong> there were <strong>20</strong> people attending the Data Visualization meetup.</h2>
    </div>
    <div id="div2">
      <h2>Out of those <strong>20</strong> there were <strong>12</strong> people who attended.</h2>
      <p></p>
    </div>
    <div id="div4">
      <h2><strong>5</strong> out of <strong>12</strong> people had iphones. The other <strong>7</strong> had android devices</h2>
    </div>
    <div id="div6">
      <h2>Out of those <strong>12</strong> attendees only <strong>3</strong> people were San Diego natives. <br><br>The age group for the attendees ranged between 25 and 65.</h2>
    </div>

  </div>

  <script>

    let width = window.innerWidth;
    let height = window.innerHeight;
    let size_scaler=width
    if (width>500){
      size_scaler=500;}
    var svg = document.getElementsByTagName('svg')[0]
    var nodes = [].concat(
      d3.range(80).map(function() { return {type: "a"}; }),
      d3.range(160).map(function() { return {type: "b"}; })
    );
    var t0 = Date.now();

    var node = d3.select("svg")
      .append("g")
      .selectAll("circle")
      .data(nodes)
      .enter().append("circle")
        .attr("r", 2.5)
        .attr("fill", function(d) { return d.type === "a" ? "brown" : "steelblue"; })



    var simulation = d3.forceSimulation(nodes)
        .force("charge", d3.forceCollide().radius(5))
        .force("r", d3.forceRadial(function(d) { return d.type === "a" ? 100 : 200; }))
        .on("tick", ticked)

    function ticked0() {

      node
          .attr("cx", function(d) { return 0 })
          .attr("cy", function(d) { return 0 })
          .style('opacity',0);

    }

    function ticked() {

      node
          .attr("cx", function(d) { return d.x; })
          .attr("cy", function(d) { return d.y; });

    }

        function ticked2() {
      d3.timer(function () {
      var delta = Date.now() - t0;
      node
          .attr("cx", function(d) { return d.x; })
          .attr("cy", function(d) { return d.y; })
          .attr('transform', function (d) {return 'rotate('+0.001*delta+')'});
      });
    }


    let naught = () =>{
      d3.forceSimulation(nodes).on("tick", ticked0)
    }


    let ready = () =>{
      d3.forceSimulation(nodes).on("tick", ticked)
    }



    let go = () =>{
      d3.forceSimulation(nodes).on("tick", ticked2)
          }



    //waypoints scroll constructor
    function scroll(n, offset, func1, func2){
      return new Waypoint({
        element: document.getElementById(n),
        handler: function(direction) {
           direction == 'down' ? func1() : func2();
        },
        //start 75% from the top of the div
        offset: offset
      });
    };



    //triger these functions on page scroll
    new scroll('div2', '75%', ready, naught);
    new scroll('div4', '75%', go, naught);




    //start grid on page load
    ready();


  </script>
</body>